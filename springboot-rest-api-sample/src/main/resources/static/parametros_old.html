<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="ISO-8859-1">
<title>Parametros</title>

<script src="https://code.jquery.com/jquery-3.6.0.js"
	integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
	crossorigin="anonymous"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
	crossorigin="anonymous"></script>

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">

</head>
<body>


	<div id="divHeader"></div>

	<form action="" id="formCadastroUser">

		<div class="mb-3">
			<label for="id" class="form-label">ID</label> <input type="text"
				class="form-control" id="id" readonly="readonly">
		</div>

		<div class="mb-3">


			<label for="Nome" class="form-label">Site Title</label> <input
				type="text" class="form-control" id="siteTitle"
				placeholder="Infrome o primeiro Parametro" required="required">

			<label for="Nome" class="form-label">Sub Title</label> <input
				type="text" class="form-control" id="subTitle"
				placeholder="Infrome o subtitulo" required="required">
				
				
			<label for="Nome" class="form-label">Text 1</label> <input
				type="text" class="form-control" id="Txt"
				placeholder="Infrome o texto do chapéu " required="required">
				
				<label for="Nome" class="form-label">Título do Albúm</label> <input
				type="text" class="form-control" id="album_title"
				placeholder="Infrome título do album " required="required">
				
					<label for="Nome" class="form-label">Título do Vídeo</label> <input
				type="text" class="form-control" id="video_title"
				placeholder="Infrome título do album " required="required">
				
				
				<label for="Nome" class="form-label">parametro 145</label> <input
				type="text" class="form-control" id="parametro_145"
				placeholder="Infrome o primeiro Parametro" required="required">

			<label for="Nome" class="form-label">parmetro 152</label> <input
				type="text" class="form-control" id="parametro_152"
				placeholder="Infrome o subtitulo" required="required">
				
				
				
				<label for="Nome" class="form-label">parametro 190</label> <input
				type="text" class="form-control" id="parametro_190"
				placeholder="Infrome o primeiro Parametro" required="required">
				
					<label for="Nome" class="form-label">parametro 547</label> <input
				type="text" class="form-control" id="parametro_547"
				placeholder="Infrome o primeiro Parametro" required="required">
				
				<label for="Nome" class="form-label">parametro 567</label> <input
				type="text" class="form-control" id="parametro_567"
				placeholder="Infrome o primeiro Parametro" required="required">
				 
					<label for="Nome" class="form-label">parametro 765</label> <input
				type="text" class="form-control" id="parametro_765"
				placeholder="Infrome o primeiro Parametro" required="required">
				
					<label for="Nome" class="form-label">parametro 786</label> <input
				type="text" class="form-control" id="parametro_786"
				placeholder="Infrome o primeiro Parametro" required="required">
				
					<label for="Nome" class="form-label">parametro 789</label> <input
				type="text" class="form-control" id="parametro_789"
				placeholder="Infrome o primeiro Parametro" required="required">
				
					<label for="Nome" class="form-label">parametro 899</label> <input
				type="text" class="form-control" id="parametro_899"
				placeholder="Infrome o primeiro Parametro" required="required">
				
					<label for="Nome" class="form-label">parametro 988</label> <input
				type="text" class="form-control" id="parametro_988"
				placeholder="Infrome o primeiro Parametro" required="required">
			
					<input id="myFileUpload" type="file" />
					<p id="msg"></p>
		
		</div>

		<div class="mb-3">
			<label for="status">Informe o Status:</label> <select name="status"
				id="status">
				<option value="1">Ativo</option>
				<option value="2">Desativado</option>
				<option value="3">Não Identificado</option>
				<option value="4">Temporariamente Fora</option>
			</select> <br> <br>
		</div>

	</form>


	<button type="button" class="btn btn-primary"
			onclick="salvarParametro()">Salvar</button>


	<button type="button" class="btn btn-secondary"
		onclick="document.getElementById('formCadastroUser').reset();">Novo</button>


	<button type="button" class="btn btn-danger" data-bs-toggle="modal"
		data-bs-target="#modalbuscarPorStatus">Pesquisar</button>



	<button type="button" class="btn btn-warning"
		onclick="botaodeletarDaTela()">Deletar</button>

	<div class="container">
		<div class="row">
			<div class="col-12">



				<div class="modal fade" id="modalbuscarPorStatus" tabindex="-1"
					aria-labelledby="exampleModalLabel" aria-hidden="true">


					<div class="modal-dialog">


						<div class="modal-content">


							<div class="modal-header">


								<h5 class="modal-title" id="exampleModalLabel">Pesquisa de
									Categoria</h5>


								<button type="button" class="btn-close" data-bs-dismiss="modal"
									aria-label="Close"></button>


							</div>



							<div class="modal-body">
								<form>
									<div class="mb-3">
										<label for="recipient-name" class="col-form-label">
											Informe o Status: </label> <input type="text" class="form-control"
											id="statusBusca">
									</div>


									<div class="mb-3"></div>
									<button type="button" class="btn btn-success"
										onclick="getListParameter()">Buscar</button>

								</form>

								<div style="height: 300px; overflow: scroll;">
									<table class="table" id="tabelaResultados">
										<thead>
											<tr>
												<th scope="col">ID		    	</th>
												<th scope="col">Títutlo     	</th>
												<th scope="col">sub-Título  	</th>
												<th scope= "col">Text 1	        </th>
												<th scope= "col">Title album	</th>
												<th scope="col"> parametro 145  </th>
												<th scope="col"> parametro 153  </th>
												<th scope= "col">parametro 190  </th>
												<th scope= "col">parametro 547  </th>
												<th scope="col"> parametro 567  </th>
												<th scope="col"> parametro 765  </th>
												<th scope="col"> parametro 786  </th>
												<th scope="col"> parametro 789  </th>
												<th scope="col"> parametro 899  </th>
												<th scope="col"> parametro 988  </th>
												<th scope="col">Status      	</th>
												<th scope="col">Editar      	</th>
												<th scope="col">Deletar     	</th>

											</tr>
										</thead>
										<tbody>

										</tbody>
									</table>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary"
									data-bs-dismiss="modal">Fechar</button>
							</div>
						</div>
					</div>
				</div>

				<script type="text/javascript">
					function salvarParametro() {

						var id = $('#id').val();
						var siteTitle   = $('#siteTitle').val()     ;
						var subTitle    = $('#subTitle').val()      ;
						var text 		=$('#Txt').val()            ; 
						var albumtitle  =$('#album_title').val()    ;
						var videotitle  =$('#video_title').val()    ;
						var parametro145 = $('#parametro_145').val();
						var parametro152 = $('#parametro_152').val();
						var parametro190 = $('#parametro_190').val(); 
						var parametro547 = $('#parametro_547').val();
						var parametro567 = $('#parametro_567').val();				
						var parametro765 = $('#parametro_765').val();
						var parametro786 = $('#parametro_786').val();
						var parametro789 = $('#parametro_789').val();
						var parametro899 = $('#parametro_899').val();
						var parametro988 = $('#parametro_988').val();
						
						$.ajax({
							method : "POST",
							url : "parametros",
							data : JSON.stringify({

								
								//do banco : do front-end
								id : id,
							    sitetitle   : siteTitle    ,
								subtitle1   : subTitle     ,
								txt1	    : text         ,		
								title_album : albumtitle   ,
								title_video : videotitle   , 
								parametro145: parametro145 ,
								parametro152: parametro152 ,
								parametro190 : parametro190,		
								parametro547 : parametro547,
								parametro567 : parametro567,
								parametro765 : parametro765,
								parametro786 : parametro786,
								parametro789 : parametro789,
								parametro899 : parametro899,
								parametro988 : parametro988
								
								
								
							}),
							contentType : "application/json; charset= utf-8",
							success : function(response) {

								$("#id").val(response.id);
								alert("salvou com sucesso");
							}

						}).fail(function(xhr, status, errorThrown) {
							alert("Erro ao salvar" + xhr.reponseText);
						})
					}

					function getListParameter() {

						var siteTitle  =   $('#siteTitle').val()    ;
						var subTitle   =   $('#subTitle').val()     ;
						var text       =   $('#Txt').val()          ;	
						var albumtitle =   $('#album_title').val()  ;
						var videotitle =   $('#video_title').val()  ;
						var parametro145 = $('#parametro_145').val();
						var parametro152 = $('#parametro_152').val();		
						var parametro190 = $('#parametro_190').val(); 
						var parametro547 = $('#parametro_547').val();
						var parametro567 = $('#parametro_567').val();				
						var parametro765 = $('#parametro_765').val();
						var parametro786 = $('#parametro_786').val();
						var parametro789 = $('#parametro_789').val();
						var parametro899 = $('#parametro_899').val();
						var parametro988 = $('#parametro_988').val();
						$.ajax({
								
											method : "GET",
	/*não me pergunte como, só funciona*/   url  : "parametros/",
											data : "siteTitle="  + siteTitle	 ,
											data : "subTitle="   + subTitle		 ,
											data : "text="       + text			 ,
											data : "albumtitle=" + albumtitle    ,
											data : "videotitle=" + videotitle    ,
											data : "parametro145=" + parametro145,
											data : "parametro152=" + parametro152,
											data : "parametro190=" + parametro190,
											data : "parametro547=" + parametro547,
											data : "parametro567=" + parametro567,
											data : "parametro765=" + parametro765,
											data : "parametro786=" + parametro786,
											data : "parametro789=" + parametro789,
											data : "parametro899=" + parametro899,
											data : "parametro988=" + parametro988,
											
											
											success : function(response) {

												$(
														'#tabelaResultados > tbody > tr')
														.remove();

												for (var i = 0; i < response.length; i++) {

													$(
															'#tabelaResultados > tbody')
															.append(
																	'<tr id="'+response[i].id+'"><td>'
																			+ response[i].id
																			+ '</td><td>'
																			+ response[i].sitetitle	+ '</td><td>'+ response[i].subtitle1
																			+'</td><td>'+ response[i].txt1 + '</td><td>' 
																			+'</td><td>'+response[i].title_album + '</td><td>'
																			+'</td><td>'+response[i].title_video + '</td><td>'
																			+'</td><td>'+response[i].parametro145+ '</td><td>'
																			+'</td><td>'+response[i].parametro152+ '</td><td>'
																			+'</td><td>'+response[i].parametro190+ '</td><td>'
																			+'</td><td>'+response[i].parametro547+ '</td><td>'
																			+'</td><td>'+response[i].parametro567+ '</td><td>'
																			+'</td><td>'+response[i].parametro765+ '</td><td>'
																			+'</td><td>'+response[i].parametro786+ '</td><td>'
																			+'</td><td>'+response[i].parametro789+ '</td><td>'
																			+'</td><td>'+response[i].parametro899+ '</td><td>'
																			+'</td><td>'+response[i].parametro988+ '</td><td>'
																			+ response[i].status
																			+ '</td> <td><button type="button" onclick = "colocarEmEdicao('
																			+ response[i].id
																			+ ')" class="btn btn-primary">Ver</button></td><td><button type="button" class="btn btn-danger" onclick = "deleteUser('
																			+ response[i].id
																			+ ')">Deletar</button></td><td></tr>');
												}
											}
										}).fail(
										function(xhr, status, errorThrown) {
											alert("Erro ao Buscar Usuário"
													+ xhr.reponseText);
										})
					}

					function colocarEmEdicao(id) {
						$.ajax({
							method : "GET",
							url : "parametros/id",
							data : "id=" + id,

							success : function(response) {

								$("#id").val(response.id)                     ;

								$('#status').val(response.status)      	      ;

								$('#siteTitle').val(response.sitetitle)       ;
								
								$('#Txt').val(response.txt1)                  ;

								$('#subTitle').val(response.subtitle1)        ;
								
								$('#album_title').val(response.title_album)   ;
								
								$('#video_title').val(response.title_video)   ;		

								$('#parametro_145').val(response.parametro145);

								$('#parametro_152').val(response.parametro152);
								
								$('#parametro_190').val(response.parametro190);
								
								$('#parametro_547').val(response.parametro547);
								
								$('#parametro_567').val(response.parametro567);
								
								$('#parametro_765').val(response.parametro765);
								
								$('#parametro_786').val(response.parametro786);
								
								$('#parametro_789').val(response.parametro789);
								
								$('#parametro_899').val(response.parametro899);
								
								$('#parametro_988').val(response.parametro988);
								
								$('#modalbuscarPorStatus').modal('hide')      ;

							}

						}).fail(
								function(xhr, status, errorThrown) {
									alert("Erro ao Buscar Usuário por id: "
											+ xhr.reponseText);

								})
					}

					function deleteUser(id) {
						if (confirm('Deseja realemente deletar ?')) {
							$.ajax({
										method : "DELETE",
										url : "parametros",
										data : "id=" + id,

										success : function(response) {

											$('#' + id).remove();

											alert(response);

										}

									})
									.fail(
											function(xhr, status, errorThrown) {
												alert("Erro ao deletar o Usuário por ID: "
														+ xhr.reponseText);

											})
						}

					}

					jQuery(document).ready(function() {
						
						
						jQuery('.toggle-nav').click(function(e) {
							jQuery(this).toggleClass('active');
							jQuery('.menu ul').toggleClass('active');
							e.preventDefault();
						});

						$("#divHeader").load("header.html");
						colocarEmEdicao(3);
						
					})
				
				
				
			
				</script>
</body>
</html>